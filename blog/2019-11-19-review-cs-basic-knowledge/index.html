<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.91.2" />


<title>一些基础知识的回顾 - 庄全🥚</title>
<meta property="og:title" content="一些基础知识的回顾 - 庄全🥚">


  <link href='https://justzyx.github.io/favicon.ico' rel='icon' type='image/x-icon'/>



  




<link rel="icon" href="https://justzyx.github.io/images/favicon.ico" type="image/x-icon"/>
<link rel="stylesheet" href="https://justzyx.github.io/css/main.css" media="all">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Merriweather:400|Lato:400,400italic,700">

  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="https://justzyx.github.io/" class="nav-logo">
    <img src="https://justzyx.github.io/images/logo.png" 
         width="50" 
         height="50" 
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    
    <li><a href="/docs/" target="_blank">八股文</a></li>
    
    
    
    
    
    
    
    <li><a href="/gibberish/">自言自语</a></li>
    
    
    
    
    
    <li><a href="/about/">关于</a></li>
    
    
  </ul>
</nav>
      </header>


<main class="content" role="main">

  <div class="toc" id="toc-auto">
      <h2 class="toc-title"></h2>
      <div class="toc-content always-active" id="toc-content-auto"></div>
  </div>

  <article class="article">
    
    <span class="article-duration">1 min read</span>
    

    
    <h1 class="article-title">一些基础知识的回顾</h1>
    

    
    <span class="article-date">November 19, 2019</span>
    

    <div class="article-content">
      <h2 id="进程">
  进程
  <a class="anchor" href="#%e8%bf%9b%e7%a8%8b">#</a>
</h2>
<h3 id="进程管理单元process-control-block">
  进程管理单元(process control block)
  <a class="anchor" href="#%e8%bf%9b%e7%a8%8b%e7%ae%a1%e7%90%86%e5%8d%95%e5%85%83process-control-block">#</a>
</h3>
<p>进程的一部分，进程存在的标志，记录管理进程的基本情况和运行情况：</p>
<ul>
<li>进程描述信息：pid &amp; uid</li>
<li>进程控制和管理信息：进程当前状态及优先级等</li>
<li>资源分配情况：代码段、数据段以及堆栈信息</li>
<li>寄存器：上下文切换的时候保存寄存器的值</li>
</ul>
<h3 id="进程的本质">
  进程的本质
  <a class="anchor" href="#%e8%bf%9b%e7%a8%8b%e7%9a%84%e6%9c%ac%e8%b4%a8">#</a>
</h3>
<p>进程的本质是一个执行中的程序实体，是对一个正在运行的程序的一种抽象。</p>
<ul>
<li>一个独立的逻辑控制流，提供一个假象，我们的程序在独占CPU</li>
<li>一个私有的地址空间，提供一个假象，我们的程序在独占存储器系统</li>
</ul>
<h3 id="如何创建一个进程">
  如何创建一个进程
  <a class="anchor" href="#%e5%a6%82%e4%bd%95%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e8%bf%9b%e7%a8%8b">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-c" data-lang="c">pid_t <span style="color:#a6e22e">Fork</span>(<span style="color:#66d9ef">void</span>)
{
    pid_t pid;

    <span style="color:#66d9ef">if</span> ((pid <span style="color:#f92672">=</span> fork()) <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span>) {
        fprintf(stderr fork error, <span style="color:#e6db74">&#34;: %s</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>, strerror(errno));
        exit(<span style="color:#ae81ff">0</span>);
    }
    <span style="color:#66d9ef">return</span> pid;
}
</code></pre></div><h3 id="fork函数被父进程调用一次却返回两次">
  fork函数被父进程调用一次却返回两次
  <a class="anchor" href="#fork%e5%87%bd%e6%95%b0%e8%a2%ab%e7%88%b6%e8%bf%9b%e7%a8%8b%e8%b0%83%e7%94%a8%e4%b8%80%e6%ac%a1%e5%8d%b4%e8%bf%94%e5%9b%9e%e4%b8%a4%e6%ac%a1">#</a>
</h3>
<p>一次是返回给子进程0，一次是返回给父进程子进程的pid，可以区分程序逻辑是在子进程还是父进程执行的</p>
<h3 id="进程树">
  进程树
  <a class="anchor" href="#%e8%bf%9b%e7%a8%8b%e6%a0%91">#</a>
</h3>
<p>描述进程之间的父子关系，类似于图论中的有向树</p>
<pre tabindex="0"><code>brew install pstree
</code></pre><h3 id="进程通信方式">
  进程通信方式
  <a class="anchor" href="#%e8%bf%9b%e7%a8%8b%e9%80%9a%e4%bf%a1%e6%96%b9%e5%bc%8f">#</a>
</h3>
<ul>
<li>共享内存</li>
<li>消息传递</li>
<li>管道</li>
</ul>

    </div>
  </article>

  <script src="https://giscus.app/client.js"
    data-repo='JustZyx/giscus-comments'
    data-repo-id='R_kgDOHvFCsw'
    data-category="General"
    data-category-id='DIC_kwDOHvFCs84CSSli'
    data-mapping="title"
    data-strict="1"
    data-reactions-enabled="1"
    data-emit-metadata="1"
    data-input-position="bottom"
    data-theme="light_tritanopia"
    data-lang="zh-CN"
    data-loading="lazy"
    crossorigin="anonymous"
    async>
</script>

</main>

      <footer class="footer">
        <ul class="footer-links">
          <section class="copyright">
            <a href="https://blog.justzyx.cn">庄全🥚</a> © 2016 - 2022 | <a href="http://beian.miit.gov.cn" target="_blank">苏ICP备19052852号-1</a>
          </section>
        </ul>
      </footer>
    </div>

    
  </body>
</html>
